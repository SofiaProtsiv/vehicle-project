"use strict";(self.webpackChunkvehicle_project=self.webpackChunkvehicle_project||[]).push([[572],{5135:function(e,i,n){var a=n(9439),t=n(2791);i.Z=function(){var e=(0,t.useState)({width:window.innerWidth,height:window.innerHeight}),i=(0,a.Z)(e,2),n=i[0],s=i[1];return(0,t.useEffect)((function(){var e=function(){s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}},5320:function(e,i,n){n.d(i,{Z:function(){return s}});var a={"btn-search":"Button_btn-search__KzS0S","btn-reset":"Button_btn-reset__TGkTf","btn-loadmore":"Button_btn-loadmore__u1uP0","btn-submit":"Button_btn-submit__fmX82","box-details":"Button_box-details__KoBYo"},t=n(184),s=function(e){var i=e.tag,n=e.type,s=e.className,l=e.children,r=e.onClick;switch(i){case"li":return(0,t.jsx)("li",{className:a[s],children:l});case"button":return(0,t.jsx)("button",{type:n,className:a[s],onClick:r,children:l});default:return null}}},5572:function(e,i,n){n.r(i),n.d(i,{default:function(){return W}});var a=n(7689),t=n(4942),s=n(1413),l=n(9439),r=n(2791),c=n(8329),o=n(1540),d=n(7199),p=n(4975),u="LocationFilter_location-filter__ey38n",h="LocationFilter_label__hs1FF",_="LocationFilter_dropdown__+tJHx",m=n(184),v=function(e){var i=e.onChange,n=e.selectedFilters,a=p.pr.find((function(e){return e.value.includes(n.location)}));return(0,m.jsx)("div",{className:u,children:(0,m.jsxs)("label",{className:h,children:["Location",(0,m.jsx)(o.ZP,{className:_,placeholder:"Kyiv, Ukraine",options:p.pr,value:a,onChange:function(e){e.length>0&&i({name:"location",value:e[0].value,key:e[0].key,checked:!0})},closeOnScroll:!0,closeOnSelect:!0,color:"var(--accent-color)"}),(0,m.jsx)(d.Z,{id:"location"})]})})},g={"equipment-container":"EquipmentFilter_equipment-container__miqwo","field-set":"EquipmentFilter_field-set__7Z6QR",collapsed:"EquipmentFilter_collapsed__2zK-P","collapse-btn":"EquipmentFilter_collapse-btn__oqKk-",title:"EquipmentFilter_title__VUJOg","input-wrap":"EquipmentFilter_input-wrap__0THsB","check-box":"EquipmentFilter_check-box__ojUlZ"},x=function(e){var i=e.onChange,n=e.selectedFilters,a=(0,r.useState)(!1),t=(0,l.Z)(a,2),s=t[0],c=t[1];return(0,m.jsxs)("div",{className:"".concat(g["equipment-container"]," ").concat(s?g.collapsed:""),children:[(0,m.jsxs)("h2",{className:g.title,children:[(0,m.jsx)("span",{children:"Vehicle equipment"}),(0,m.jsx)("button",{className:g["collapse-btn"],onClick:function(){c(!s)},children:(0,m.jsx)(d.Z,{id:s?"arrow-down":"arrow-up"})})]}),(0,m.jsx)("fieldset",{className:"".concat(g["field-set"]," ").concat(s?g.hidden:""),children:p.qk.map((function(e){var a=e.key,t=e.value,s=e.text;return(0,m.jsxs)("div",{className:g["input-wrap"],children:[(0,m.jsx)("input",{type:"checkbox","data-equipment":!0,name:a,value:t,checked:n[a]===t,onChange:function(e){var n=e.target;return i(n)}}),(0,m.jsxs)("div",{className:g["check-box"],children:[(0,m.jsx)(d.Z,{id:a})," ",s]})]},a)}))})]})},j="VenicleType_vehicle-filters__qMddA",f="VenicleType_field-set__kwYxh",b="VenicleType_collapsed__yqq6W",N="VenicleType_collapse-btn__9s8rA",w="VenicleType_title__c-ZQx",C="VenicleType_input-wrap__I9rj0",k="VenicleType_radio-btn__SY7eu",Z=function(e){var i=e.onChange,n=e.selectedFilters,a=(0,r.useState)(!1),t=(0,l.Z)(a,2),s=t[0],c=t[1];return(0,m.jsxs)("div",{className:"".concat(j," ").concat(s?b:""),children:[(0,m.jsxs)("h2",{className:w,children:[(0,m.jsx)("span",{children:"Vehicle type"}),(0,m.jsx)("button",{className:N,onClick:function(){c(!s)},children:(0,m.jsx)(d.Z,{id:s?"arrow-down":"arrow-up"})})]}),(0,m.jsx)("fieldset",{className:f,children:p.vK.map((function(e){var a=e.value,t=e.text;return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)("input",{type:"radio",name:"type",value:a,checked:n.form===a,onChange:function(e){var n=e.target;return i(n)}}),(0,m.jsxs)("div",{className:k,children:[(0,m.jsx)(d.Z,{id:a})," ",t]})]},a)}))})]})},F=n(5320),V="Filters_filter-container__ZiKgc",y="Filters_filters-wrapper__97cwx",P="Filters_heading__c7piO",q="Filters_btns-wrapper__v9F7K",E={location:"",transmission:"",airConditioner:"",form:"",bathroom:"",kitchen:"",TV:"",limit:p.VZ,page:1},L=function(){var e=(0,a.s0)(),i=(0,r.useState)(E),n=(0,l.Z)(i,2),o=n[0],d=n[1],p=(0,c.F)(),u=p.searchParams,h=p.setSearchParams;(0,r.useEffect)((function(){var e={};Object.keys(o).forEach((function(i){var n=u.get(i);e[i]=n||o[i]})),d(e)}),[u]);var _=function(e){var i="";if("location"===e.name)i="location";else if("automatic"===e.value)i="transmission";else{var n;i=null!==e&&void 0!==e&&null!==(n=e.dataset)&&void 0!==n&&n.equipment?e.name:"form"}!function(e,i,n){d((function(a){return(0,s.Z)((0,s.Z)({},a),{},(0,t.Z)({},e,n?i:""))}))}(i,e.value,e.checked)};return(0,m.jsxs)("div",{className:V,children:[(0,m.jsx)(v,{onChange:_,selectedFilters:o}),(0,m.jsxs)("div",{className:y,children:[(0,m.jsx)("h4",{className:P,children:"Filters"}),(0,m.jsx)(x,{onChange:_,selectedFilters:o}),(0,m.jsx)(Z,{onChange:_,selectedFilters:o})]}),(0,m.jsxs)("div",{className:q,children:[(0,m.jsx)(F.Z,{className:"btn-search",type:"button",tag:"button",onClick:function(){var e={};Object.entries(o).forEach((function(i){var n=(0,l.Z)(i,2),a=n[0],t=n[1];t&&(e[a]=t)})),e.page=1,h(e)},children:"Search"}),(0,m.jsx)(F.Z,{className:"btn-reset",type:"button",tag:"button",onClick:function(){d((function(e){return(0,s.Z)((0,s.Z)({},e),E)})),e("/catalog")},children:"Reset"})]})]})},S=n(1108),O=n(1087),T=n(4420),B=n(156),K=n(5135),U={"vehicle-item":"VehicleCard_vehicle-item__59ILe","mt-position":"VehicleCard_mt-position__uO-cE",img:"VehicleCard_img__Vc65D","content-wrapper":"VehicleCard_content-wrapper__0O29a",name:"VehicleCard_name__8wXHC","info-wrapper":"VehicleCard_info-wrapper__joaxA","info-wrapper-top":"VehicleCard_info-wrapper-top__rGEEz",rating:"VehicleCard_rating__JDbla",location:"VehicleCard_location__2JvIs",wrapper:"VehicleCard_wrapper__5V76O",price:"VehicleCard_price__IudOm","fav-btn":"VehicleCard_fav-btn__X8Esd",description:"VehicleCard_description__BNQD6","details-list":"VehicleCard_details-list__ehdgx"},z=function(e){var i=e.vehicle,n=i._id,t=i.name,s=i.price,r=i.location,c=i.description,o=i.details,p=i.rating,u=i.reviews,h=i.gallery,_=(0,T.v9)((function(e){return e.favorites})).favorites.some((function(e){return e._id===n})),v=(0,T.I0)(),g=(0,a.TH)(),x=(0,K.Z)().width;return(0,m.jsxs)("li",{"data-vehicle":n,className:U["vehicle-item"],children:[(0,m.jsx)("img",{className:U.img,src:h.length?h[0]:"not-found-img.jpg",alt:t}),(0,m.jsxs)("div",{className:U["content-wrapper"],children:[(0,m.jsxs)("div",{className:U["mt-position"],children:[(0,m.jsxs)("div",{className:U["info-wrapper-top"],children:[(0,m.jsx)("h3",{className:U.name,children:t}),(0,m.jsxs)("div",{className:U.wrapper,children:[(0,m.jsxs)("p",{className:U.price,children:["\u20ac",s.toFixed(2)]}),(0,m.jsx)("button",{className:U["fav-btn"],onClick:function(){v(_?(0,B.zm)(n):(0,B._p)(i))},children:(0,m.jsx)(d.Z,{id:_?"heart-active":"heart"})})]})]}),(0,m.jsxs)("div",{className:U["info-wrapper"],children:[(0,m.jsxs)("p",{className:U.rating,children:[(0,m.jsx)(d.Z,{id:"rating"}),(0,m.jsxs)(O.rU,{to:"vehicle/".concat(n,"/reviews"),state:{from:g},children:[(0,m.jsx)("span",{children:p}),(0,m.jsxs)("span",{className:U["reviews-number"],children:["(",u.length,1===u.length?" Review":" Reviews",")"]})]})]}),(0,m.jsxs)("p",{className:U.location,children:[(0,m.jsx)(d.Z,{id:"location"}),(0,m.jsx)("span",{children:r})]})]}),(0,m.jsx)("p",{className:U.description,children:x<768?c.slice(0,90)+"...":x>=768&&x<1440?c.slice(0,200)+"...":c.slice(0,55)+"..."})]}),(0,m.jsx)("ul",{className:U["details-list"],children:Object.entries(o).map((function(e,i){var n=(0,l.Z)(e,2),a=n[0],t=n[1];return x<768&&i>=6||x>=1440&&i>=8?null:t&&"bathroom"!==a?(0,m.jsxs)(F.Z,{tag:"li",className:"box-details",children:[(0,m.jsx)(d.Z,{id:a}),(0,m.jsxs)("p",{children:[(0,m.jsx)("span",{children:t}),(0,m.jsxs)("span",{children:[" ",a]})]})]},"vehicle-card-details-".concat(a)):null}))}),(0,m.jsx)(F.Z,{className:"btn-loadmore",type:"button",tag:"button",children:(0,m.jsx)(O.rU,{to:"vehicle/".concat(n,"/features"),state:{from:g},children:"Show More"})})]})]},"vehicle-card-".concat(n))},H=n(8327),I=n(6048),D=n.n(I),J={"pagination-container":"Pagination_pagination-container__n2XI6",pagination:"Pagination_pagination__mbCiP","page-active":"Pagination_page-active__vvNZG","page-item":"Pagination_page-item__cvnoC","page-disabled":"Pagination_page-disabled__Jh6YM",disabled:"Pagination_disabled__Skj6x","page-link":"Pagination_page-link__7vPr2","next-page-item":"Pagination_next-page-item__Uehrq","previous-page-item":"Pagination_previous-page-item__ODw91"},Q=function(e){var i=e.total,n=(0,c.F)(),a=n.searchParams,t=n.setSearchParams;return(0,m.jsx)("div",{className:J["pagination-container"],children:(0,m.jsx)(D(),{forcePage:a.get("page")?a.get("page")-1:0,previousLabel:"<",nextLabel:">",pageClassName:J["page-item"],pageLinkClassName:J["page-link"],previousClassName:J["previous-page-item"],previousLinkClassName:J["previous-page-link"],nextClassName:J["next-page-item"],nextLinkClassName:J["next-page-link"],disabledClassName:J["page-disabled"],disabledLinkClassName:J["page-disabled"],breakLabel:"...",breakClassName:J["page-item"],breakLinkClassName:J["page-link"],pageCount:Math.ceil(i/p.VZ),pageRangeDisplayed:5,onPageChange:function(e){a.set("page",e.selected+1),t(a)},containerClassName:J.pagination,activeClassName:J["page-active"]})})},R="VehiclesList_vehicles-list__3WSiG",X=function(){var e=(0,c.F)().searchParams,i=Object.fromEntries(e.entries()),n=(0,S.NX)(i),a=n.data,t=n.error,s=n.isFetching,l=n.isError,r=n.isSuccess;if(s)return(0,m.jsx)("ul",{className:R,children:(0,m.jsx)(H.Z,{})});if(r){var o,d=(null===a||void 0===a?void 0:a.vehicles.length)<(null===a||void 0===a?void 0:a.total);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("ul",{className:R,children:[null!==a&&void 0!==a&&a.vehicles.length?null===a||void 0===a||null===(o=a.vehicles)||void 0===o?void 0:o.map((function(e){return(0,m.jsx)(z,{vehicle:e},e._id)})):(0,m.jsx)("p",{children:"No matches found"}),d?(0,m.jsx)(Q,{total:null===a||void 0===a?void 0:a.total}):null]})})}return l?(0,m.jsx)("ul",{className:R,children:(0,m.jsx)("p",{children:t.error})}):void 0},G="CatalogPage_section__bZQ68",M="CatalogPage_catalog-container__9QUP+",W=function(){return(0,m.jsx)("section",{className:G,children:(0,m.jsxs)("div",{className:M,children:[(0,m.jsx)(L,{}),(0,m.jsx)(X,{}),(0,m.jsx)(a.j3,{})]})})}}}]);
//# sourceMappingURL=572.258487ed.chunk.js.map